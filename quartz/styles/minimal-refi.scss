/*
ReFi Barcelona Theme for Quartz
Converted from Obsidian Publish production styling
Based on Minimal Theme by @kepano (Stephan Ango)

Original Minimal Theme:
https://github.com/kepano/obsidian-minimal
MIT License - Copyright (c) 2020-2023 Stephan Ango (@kepano)

ReFi Barcelona Production Theme:
Navy blue aesthetic with Bodoni Moda typography
*/

/* ===== GOOGLE FONTS IMPORT ===== */
@import url('https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital@1&display=swap');

/* ===== ROOT COLOR VARIABLES ===== */
:root {
  /* Navy Blue Base Colors */
  --navy-primary: #002147;
  --navy-secondary: #002147;
  --navy-tertiary: #002147;
  
  /* Text Colors */
  --text-normal: #E1E1E6;
  --text-muted: #a8a8b3;
  --text-bright: #ffffff;
  
  /* Interactive Colors */
  --interactive-normal: #4C9AFF;
  --interactive-hover: #1A73E8;
  
  /* Border Colors */
  --border-color: rgba(255, 255, 255, 0.15);
  
  /* Graph View Colors */
  --graph-text: #ffffff;
  --graph-node: #ffffff;
  --graph-node-focused: #ffffff;
  --graph-line: #ffffff;
}

/* ===== LIGHT MODE COLORS ===== */
body.theme-light {
  /* Background layers - Navy Blue */
  --bg1: var(--navy-primary);
  --bg2: var(--navy-secondary);
  --bg3: var(--navy-tertiary);
  
  /* UI element colors */
  --ui1: rgba(255, 255, 255, 0.1);
  --ui2: rgba(255, 255, 255, 0.15);
  --ui3: rgba(255, 255, 255, 0.2);
  
  /* Text hierarchy */
  --tx1: var(--text-bright);     /* Primary text */
  --tx2: var(--text-normal);     /* Secondary text */
  --tx3: var(--text-muted);      /* Muted text */
  --tx4: var(--text-normal);     /* Code text */
  
  /* Accent variations - Blue theme */
  --ax1: var(--interactive-normal);         /* Primary accent */
  --ax2: var(--interactive-hover);          /* Hover accent */
  --ax3: #6ba3ff;                           /* Lighter accent */
  
  /* Highlights */
  --hl1: rgba(76, 154, 255, 0.2);           /* Selection highlight */
  --hl2: rgba(255, 255, 255, 0.1);          /* Search highlight */
  --sp1: white;                             /* Text on accent */
}

/* ===== DARK MODE COLORS ===== */
body.theme-dark {
  /* Background layers - Same navy blue for consistency */
  --bg1: var(--navy-primary);
  --bg2: var(--navy-secondary);
  --bg3: var(--navy-tertiary);
  
  /* UI elements */
  --ui1: rgba(255, 255, 255, 0.1);
  --ui2: rgba(255, 255, 255, 0.15);
  --ui3: rgba(255, 255, 255, 0.2);
  
  /* Text hierarchy */
  --tx1: var(--text-bright);
  --tx2: var(--text-normal);
  --tx3: var(--text-muted);
  --tx4: var(--text-normal);
  
  /* Accent variations */
  --ax1: var(--interactive-normal);
  --ax2: var(--interactive-hover);
  --ax3: #6ba3ff;
  
  /* Highlights */
  --hl1: rgba(76, 154, 255, 0.2);
  --hl2: rgba(255, 255, 255, 0.1);
  --sp1: white;
}

/* ===== QUARTZ VARIABLE MAPPING ===== */
body {
  /* Map to Quartz's expected color variables */
  --light: var(--bg1);
  --lightgray: var(--ui1);
  --gray: var(--ui2);
  --darkgray: var(--tx3);
  --dark: var(--tx1);
  --secondary: var(--ax1);
  --tertiary: var(--ax3);
  --highlight: var(--hl1);
  --textHighlight: var(--hl2);
  
  /* General styling from publish.css */
  line-height: 1.6;
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 0;
  background-color: var(--background-primary);
}

/* ===== TYPOGRAPHY ENHANCEMENTS ===== */
body {
  /* Typography variables */
  --font-ui-smaller: 11px;
  --normal-weight: 400;
  --bold-weight: 600;
  --line-height: 1.6;
  
  /* Layout variables */
  --line-width: 40rem;
  --max-width: 88%;
  --border-width: 1px;
  --image-radius: 4px;
}

/* ===== HEADER STYLES (from publish.css) ===== */
h1 {
  color: var(--text-bright);
  font-family: 'Bodoni Moda', serif;
  font-style: italic;
  font-size: 2.5em;
  font-weight: normal;
  margin-top: 0.5em;
  margin-bottom: 0.5em;
  letter-spacing: -0.02em;
}

h2 {
  color: var(--text-normal);
  font-family: 'Bodoni Moda', serif;
  font-style: italic;
  font-size: 2em;
  font-weight: normal;
  margin-top: 0.4em;
  margin-bottom: 0.4em;
  letter-spacing: -0.02em;
}

h3, h4, h5, h6 {
  color: var(--text-normal);
  font-family: 'Bodoni Moda', serif;
  font-style: italic;
  font-weight: normal;
  letter-spacing: -0.02em;
}

/* ===== COMPONENT STYLING ===== */

/* Links with blue accent */
a {
  color: var(--interactive-normal);
  text-decoration: none;
  font-weight: var(--normal-weight);
  transition: color 0.2s ease;
}

a:hover {
  color: var(--interactive-hover);
  text-decoration: underline;
}

/* Paragraphs with spacing */
p {
  margin-bottom: 1em;
  color: var(--text-normal);
}

/* Code blocks */
code {
  background-color: var(--ui1);
  color: var(--tx4);
  padding: 0.125em 0.25em;
  border-radius: 3px;
}

/* Blockquotes */
blockquote {
  border-left: 3px solid var(--ax3);
  padding-left: 1.1em;
  color: var(--tx2);
  font-style: normal;
}

/* Tables */
table {
  border-collapse: collapse;
  border: var(--border-width) solid var(--ui2);
}

th, td {
  padding: 4px 10px;
  border: var(--border-width) solid var(--ui1);
  color: var(--text-normal);
}

th {
  background-color: var(--ui1);
  font-weight: var(--bold-weight);
}

/* Navigation and UI elements */
.nav-item {
  color: var(--tx2);
}

.nav-item:hover,
.nav-item.active {
  color: var(--ax1);
  background-color: var(--ui1);
}

/* Search highlighting */
mark {
  background-color: var(--hl2);
  color: var(--tx1);
}

/* Interactive elements */
button {
  background-color: var(--ax1);
  color: var(--sp1);
  border: none;
  padding: 0.5em 1em;
  border-radius: 4px;
  cursor: pointer;
  font-weight: var(--normal-weight);
}

button:hover {
  background-color: var(--ax2);
}

/* ===== GRAPH VIEW STYLING ===== */
.graph-view {
  --graph-text: var(--graph-text);
  --graph-node: var(--graph-node);
  --graph-node-focused: var(--graph-node-focused);
  --graph-line: var(--graph-line);
}

/* ===== CONTAINER STYLING ===== */
.container {
  max-width: 800px;
  margin: auto;
  padding: 20px;
}

/* ===== TOP BAR LINK STYLING ===== */
.top-bar-links {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  padding: 10px;
  background-color: var(--background-secondary);
}

.top-bar-link {
  margin-left: 20px;
  text-decoration: none;
  color: var(--text-bright);
  font-weight: var(--normal-weight);
}

.top-bar-link:hover {
  text-decoration: underline;
}

/* ===== RESPONSIVE ADJUSTMENTS ===== */
@media (max-width: 600px) {
  :root {
    --line-width: 100%;
    --max-width: 95%;
  }
  
  h1 {
    font-size: 2em;
  }
  
  h2 {
    font-size: 1.5em;
  }
}

/* ===== ACCESSIBILITY IMPROVEMENTS ===== */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ===== PRINT STYLES ===== */
@media print {
  :root {
    --bg1: white;
    --tx1: black;
    --ax1: #002147;
  }
  
  h1, h2, h3, h4, h5, h6 {
    color: black;
    font-style: normal;
  }
}

/* ===== CUSTOM SCROLLBAR STYLING ===== */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: var(--ui1);
}

::-webkit-scrollbar-thumb {
  background: var(--ui3);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--ax3);
}

/* ===== SELECTION STYLING ===== */
::selection {
  background: var(--hl1);
  color: var(--tx1);
}

/* ===== ADDITIONAL WEB-LIKE APPEARANCE ===== */
body {
  text-size-adjust: none;
  overflow-x: hidden;
  width: 100vw;
}

/* Ensure proper contrast for all text elements */
p, ul, text, a, tr, td, li, ol, ul, .katex, .math {
  color: var(--text-normal);
  fill: var(--text-normal);
  hyphens: auto;
}

p, ul, text, a, li, ol, ul, .katex, .math {
  overflow-wrap: anywhere;
}